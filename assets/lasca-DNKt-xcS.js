(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(r){if(r.ep)return;r.ep=!0;const n=t(r);fetch(r.href,n)}})();const me=["r0c0","r0c2","r0c4","r0c6","r1c1","r1c3","r1c5","r2c0","r2c2","r2c4","r2c6"],pe=["r4c0","r4c2","r4c4","r4c6","r5c1","r5c3","r5c5","r6c0","r6c2","r6c4","r6c6"],he="r3c3",be=[{owner:"B",rank:"S"},{owner:"W",rank:"S"},{owner:"B",rank:"O"},{owner:"W",rank:"S"}],Z=6,re=Math.floor(Z/2),fe=Z-re;function ce(e){return e.owner==="W"&&e.rank==="S"?"#W_S":e.owner==="W"&&e.rank==="O"?"#W_O":e.owner==="B"&&e.rank==="S"?"#B_S":"#B_O"}const we="http://www.w3.org/2000/svg",ye="http://www.w3.org/1999/xlink";function ie(e,c,t,o){const r=document.createElementNS(we,"use");return r.setAttribute("href",e),r.setAttributeNS(ye,"xlink:href",e),r.setAttribute("width",String(o)),r.setAttribute("height",String(o)),r.setAttribute("x",String(c)),r.setAttribute("y",String(t)),r}const X="http://www.w3.org/2000/svg";function ge(e,c,t){let o=null;function r(){for(;t.firstChild;)t.removeChild(t.firstChild);t.setAttribute("viewBox","0 0 120 200"),t.removeAttribute("height")}function n(f,s){const i=s.length;for(e.textContent=`Stack @ ${f} (×${i})`,c.textContent=i>Z?"Full column order (bottom → top). Brackets mark pieces omitted in the mini preview spine.":"Full column order (bottom → top).";t.firstChild;)t.removeChild(t.firstChild);const d=22,p=4,y=26,T=24,h=120,a=i*d+(i-1)*p,u=y+a+T;t.setAttribute("viewBox",`0 0 ${h} ${u}`),t.setAttribute("height",String(u));const w=h/2-d/2,O=y,S=document.createElementNS(X,"rect");S.setAttribute("x",String(w-8)),S.setAttribute("y",String(O-10)),S.setAttribute("width",String(d+16)),S.setAttribute("height",String(a+20)),S.setAttribute("rx","12"),S.setAttribute("fill","rgba(0,0,0,0.28)"),S.setAttribute("stroke","rgba(255,255,255,0.18)"),S.setAttribute("stroke-width","1.4"),t.appendChild(S);const L=document.createElementNS(X,"text");L.setAttribute("x",String(h/2)),L.setAttribute("y",String(O-12)),L.setAttribute("text-anchor","middle"),L.setAttribute("fill","rgba(255,255,255,0.85)"),L.setAttribute("font-size","12"),L.setAttribute("font-family","system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif"),L.textContent="TOP",t.appendChild(L);const g=document.createElementNS(X,"text");g.setAttribute("x",String(h/2)),g.setAttribute("y",String(O+a+18)),g.setAttribute("text-anchor","middle"),g.setAttribute("fill","rgba(255,255,255,0.85)"),g.setAttribute("font-size","12"),g.setAttribute("font-family","system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif"),g.textContent="BOTTOM",t.appendChild(g);for(let A=0;A<i;A++){const x=s[A],W=ce(x),M=O+(i-1-A)*(d+p);t.appendChild(ie(W,w,M,d))}if(i>Z){const A=re,x=fe,W=A,M=i-x-1;if(M>=W){const N=O+(i-1-M)*(d+p),v=O+(i-1-W)*(d+p)+d,_=w-18,U=w+d+18,m=10,k=document.createElementNS(X,"path");k.setAttribute("d",`M ${_+m} ${N} L ${_} ${N} L ${_} ${v} L ${_+m} ${v}`),k.setAttribute("fill","none"),k.setAttribute("stroke","rgba(255,255,255,0.90)"),k.setAttribute("stroke-width","2.2"),k.setAttribute("stroke-linecap","round"),k.setAttribute("stroke-linejoin","round"),t.appendChild(k);const E=document.createElementNS(X,"path");E.setAttribute("d",`M ${U-m} ${N} L ${U} ${N} L ${U} ${v} L ${U-m} ${v}`),E.setAttribute("fill","none"),E.setAttribute("stroke","rgba(255,255,255,0.90)"),E.setAttribute("stroke-width","2.2"),E.setAttribute("stroke-linecap","round"),E.setAttribute("stroke-linejoin","round"),t.appendChild(E)}}}function l(){o&&clearTimeout(o),o=null}function b(){o&&clearTimeout(o),o=setTimeout(()=>{e.textContent="Lasca Stack Inspector",c.textContent="Hover a stacked piece to see the full column order (bottom → top). If a crack appears on the mini spine, brackets mark the omitted middle here.",r()},80)}return{show:n,hideSoon:b,cancelHide:l,clearZoom:r}}const F="lasca.layout.",z=22,q={leftWidth:280,rightWidth:320,leftCollapsed:!1,rightCollapsed:!1};function K(e,c,t){return Math.max(c,Math.min(t,e))}function ne(e,c){const t=localStorage.getItem(e);if(t==null)return c;const o=Number(t);return Number.isFinite(o)?o:c}function oe(e,c){const t=localStorage.getItem(e);return t==null?c:t==="1"}function se(e,c){localStorage.setItem(e,String(Math.round(c)))}function le(e,c){localStorage.setItem(e,c?"1":"0")}function xe(e={}){const c=e.root??document.getElementById("appRoot"),t=e.left??document.getElementById("leftSidebar"),o=e.right??document.getElementById("rightSidebar"),r=e.gutterLeft??document.getElementById("gutterLeft"),n=e.gutterRight??document.getElementById("gutterRight");if(!c||!t||!o||!r||!n)throw new Error("splitLayout: missing root/sidebars/gutters");const l=c.querySelector('[data-action="collapse-left"]'),b=c.querySelector('[data-action="collapse-right"]'),f=c.querySelector('[data-action="expand-left"]'),s=c.querySelector('[data-action="expand-right"]'),i=420,d=200,p=520,y=240,T=560;let h=ne(F+"leftWidth",q.leftWidth),a=ne(F+"rightWidth",q.rightWidth),u=oe(F+"leftCollapsed",q.leftCollapsed),w=oe(F+"rightCollapsed",q.rightCollapsed),O=h,S=a;function L(){return c.getBoundingClientRect().width}function g(){return r.getBoundingClientRect().width+n.getBoundingClientRect().width}function A(){t.style.width=u?`${z}px`:`${h}px`,o.style.width=w?`${z}px`:`${a}px`,t.classList.toggle("collapsed",u),o.classList.toggle("collapsed",w),r.classList.toggle("disabled",u),n.classList.toggle("disabled",w),se(F+"leftWidth",h),se(F+"rightWidth",a),le(F+"leftCollapsed",u),le(F+"rightCollapsed",w)}function x(){const m=L(),k=w?z:a;return m-g()-k-i}function W(){const m=L(),k=u?z:h;return m-g()-k-i}function M(m){u!==m&&(m?O=h:h=K(O,d,Math.min(p,x())),u=m,A())}function N(m){w!==m&&(m?S=a:a=K(S,y,Math.min(T,W())),w=m,A())}function v(){u||(h=K(h,d,Math.min(p,x()))),w||(a=K(a,y,Math.min(T,W()))),A()}function _(m){if(u)return;const k=m.clientX,E=h,H=Math.min(p,x()),D=d;function C(B){const $=B.clientX-k;h=K(E+$,D,H),A()}function I(){window.removeEventListener("pointermove",C),window.removeEventListener("pointerup",I);try{r.releasePointerCapture(m.pointerId)}catch{}}r.setPointerCapture(m.pointerId),window.addEventListener("pointermove",C),window.addEventListener("pointerup",I)}function U(m){if(w)return;const k=m.clientX,E=a,H=Math.min(T,W()),D=y;function C(B){const $=B.clientX-k;a=K(E-$,D,H),A()}function I(){window.removeEventListener("pointermove",C),window.removeEventListener("pointerup",I);try{n.releasePointerCapture(m.pointerId)}catch{}}n.setPointerCapture(m.pointerId),window.addEventListener("pointermove",C),window.addEventListener("pointerup",I)}return r.addEventListener("pointerdown",_),n.addEventListener("pointerdown",U),r.addEventListener("dblclick",()=>M(!u)),n.addEventListener("dblclick",()=>N(!w)),l==null||l.addEventListener("click",()=>M(!0)),f==null||f.addEventListener("click",()=>M(!1)),b==null||b.addEventListener("click",()=>N(!0)),s==null||s.addEventListener("click",()=>N(!1)),v(),window.addEventListener("resize",v),{getState:()=>({leftWidth:h,rightWidth:a,leftCollapsed:u,rightCollapsed:w}),setLeftCollapsed:M,setRightCollapsed:N,setLeftWidth:m=>{h=m,v()},setRightWidth:m=>{a=m,v()}}}const Y="http://www.w3.org/2000/svg";function ke(e,c,t,o,r,n={}){const{pieceSize:l=86,maxShown:b=Z,keepTop:f=fe,keepBottom:s=re,miniSize:i=18,miniGap:d=3,spineGap:p=10,spinePad:y=6,crackGap:T=12}=n,h=r.length;if(h<=1)return;let a=[],u=!1;if(h<=b)a=r.slice();else{u=!0;const I=r.slice(0,s),B=r.slice(h-f);a=I.concat(B)}const w=a.length,O=w*i+(w-1)*d+(u?T:0),S=i+y*2,L=O+y*2,g=t+l/2+p,A=o-L/2,x=document.createElementNS(Y,"rect");x.setAttribute("x",String(g)),x.setAttribute("y",String(A)),x.setAttribute("width",String(S)),x.setAttribute("height",String(L)),x.setAttribute("rx","10"),x.setAttribute("fill","rgba(0,0,0,0.28)"),x.setAttribute("stroke","rgba(255,255,255,0.35)"),x.setAttribute("stroke-width","1.4"),x.setAttribute("pointer-events","none"),c.appendChild(x);const W=e.querySelector("defs");if(!W)throw new Error("SVG <defs> not found. miniSpine requires <defs>.");const M=`clip_${Math.random().toString(16).slice(2)}`,N=document.createElementNS(Y,"clipPath");N.setAttribute("id",M);const v=document.createElementNS(Y,"rect");v.setAttribute("x",String(g+1)),v.setAttribute("y",String(A+1)),v.setAttribute("width",String(S-2)),v.setAttribute("height",String(L-2)),v.setAttribute("rx","9"),N.appendChild(v),W.appendChild(N);const _=document.createElementNS(Y,"g");_.setAttribute("clip-path",`url(#${M})`),_.setAttribute("pointer-events","none");const U=g+y,m=A+L-y,k=s-1;for(let I=0;I<w;I++){const B=a[I],$=ce(B);let j=I*(i+d);u&&I>k&&(j+=T);const J=m-i-j,P=U;_.appendChild(ie($,P,J,i))}if(c.appendChild(_),u){const B=m-i-k*(i+d)-d-T/2,$=g+3,j=g+S-3,J=($+j)/2,P=[`M ${$} ${B-5}`,`L ${J-6} ${B+2}`,`L ${J} ${B-3}`,`L ${J+6} ${B+4}`,`L ${j} ${B-1}`].join(" "),G=document.createElementNS(Y,"path");G.setAttribute("d",P),G.setAttribute("fill","none"),G.setAttribute("stroke","rgba(0,0,0,0.45)"),G.setAttribute("stroke-width","4.0"),G.setAttribute("stroke-linecap","round"),G.setAttribute("stroke-linejoin","round"),G.setAttribute("pointer-events","none");const R=document.createElementNS(Y,"path");R.setAttribute("d",P),R.setAttribute("fill","none"),R.setAttribute("stroke","rgba(255,255,255,0.75)"),R.setAttribute("stroke-width","2.2"),R.setAttribute("stroke-linecap","round"),R.setAttribute("stroke-linejoin","round"),R.setAttribute("pointer-events","none"),c.appendChild(G),c.appendChild(R)}const E=g+S/2,H=A-12,D=document.createElementNS(Y,"circle");D.setAttribute("cx",String(E)),D.setAttribute("cy",String(H)),D.setAttribute("r","10"),D.setAttribute("fill","rgba(0,0,0,0.78)"),D.setAttribute("stroke","rgba(255,255,255,0.65)"),D.setAttribute("stroke-width","1.4"),D.setAttribute("pointer-events","none");const C=document.createElementNS(Y,"text");C.setAttribute("x",String(E)),C.setAttribute("y",String(H+.5)),C.setAttribute("text-anchor","middle"),C.setAttribute("dominant-baseline","middle"),C.setAttribute("fill","#fff"),C.setAttribute("font-size","12"),C.setAttribute("font-family","system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif"),C.textContent=String(h),C.setAttribute("pointer-events","none"),c.appendChild(D),c.appendChild(C)}function Q(e,c,t,o,r,n={}){const{pieceSize:l=86}=n,b=document.getElementById(o);if(!b||!r.length)return;const f=parseFloat(b.getAttribute("cx")),s=parseFloat(b.getAttribute("cy")),i=document.createElementNS("http://www.w3.org/2000/svg","g");i.setAttribute("data-node",o),i.setAttribute("class","stack");const d=r[r.length-1],p=l/2;i.appendChild(ie(ce(d),f-p,s-p,l)),ke(e,i,f,s,r,{pieceSize:l,miniSize:18}),t&&r.length>1&&(i.style.cursor="pointer",i.addEventListener("pointerenter",()=>{t.cancelHide(),t.show(o,r)}),i.addEventListener("pointerleave",()=>{t.hideSoon()})),c.appendChild(i)}async function Se(e,c){if(!e)throw new Error("loadSvgFileInto: containerEl is required");const t=await fetch(c);if(!t.ok)throw new Error(`loadSvgFileInto: failed to fetch ${String(c)} (${t.status})`);const o=await t.text(),n=new DOMParser().parseFromString(o,"image/svg+xml").documentElement;if(!n||n.nodeName.toLowerCase()!=="svg")throw new Error(`loadSvgFileInto: ${String(c)} did not parse as an <svg> root`);const l=document.importNode(n,!0);return e.replaceChildren(l),l}async function Ae(e,c){if(!e)throw new Error("loadSvgDefsInto: targetEl is required");if(!(!Array.isArray(c)||c.length===0))for(const t of c){const o=await fetch(t);if(!o.ok)throw new Error(`loadSvgDefsInto: failed to fetch ${String(t)} (${o.status})`);const r=await o.text(),n=new DOMParser().parseFromString(r,"image/svg+xml"),l=n.querySelector("defs"),b=l?Array.from(l.children):Array.from(n.documentElement.children);for(const f of b)e.appendChild(document.importNode(f,!0))}}const ee="classic",te=[{id:"classic",label:"Classic",piecesDefs:new URL("data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201%201'%20aria-hidden='true'%3e%3cdefs%3e%3c!--%20========%20PIECE%20SYMBOLS%20(W_S,%20B_S,%20W_O,%20B_O)%20========%20--%3e%3cradialGradient%20id='gradWhite'%20cx='35%25'%20cy='30%25'%20r='70%25'%3e%3cstop%20offset='0%25'%20stop-color='%23ffffff'/%3e%3cstop%20offset='55%25'%20stop-color='%23f1f1f1'/%3e%3cstop%20offset='100%25'%20stop-color='%23d6d6d6'/%3e%3c/radialGradient%3e%3cradialGradient%20id='gradBlack'%20cx='35%25'%20cy='30%25'%20r='70%25'%3e%3cstop%20offset='0%25'%20stop-color='%23444444'/%3e%3cstop%20offset='55%25'%20stop-color='%231c1c1c'/%3e%3cstop%20offset='100%25'%20stop-color='%23050505'/%3e%3c/radialGradient%3e%3cradialGradient%20id='gradGreen'%20cx='35%25'%20cy='30%25'%20r='70%25'%3e%3cstop%20offset='0%25'%20stop-color='%237be58a'/%3e%3cstop%20offset='55%25'%20stop-color='%231fb34a'/%3e%3cstop%20offset='100%25'%20stop-color='%230a6f2a'/%3e%3c/radialGradient%3e%3cradialGradient%20id='gradRed'%20cx='35%25'%20cy='30%25'%20r='70%25'%3e%3cstop%20offset='0%25'%20stop-color='%23ff8f8f'/%3e%3cstop%20offset='55%25'%20stop-color='%23e12a2a'/%3e%3cstop%20offset='100%25'%20stop-color='%238f1111'/%3e%3c/radialGradient%3e%3cpath%20id='star5'%20d='%20M%2050%2030%20L%2056.5%2043.2%20L%2071.0%2045.3%20L%2060.5%2055.6%20L%2063.0%2070.0%20L%2050.0%2063.2%20L%2037.0%2070.0%20L%2039.5%2055.6%20L%2029.0%2045.3%20L%2043.5%2043.2%20Z'%20/%3e%3c!--%20White%20Soldier%20--%3e%3csymbol%20id='W_S'%20viewBox='0%200%20100%20100'%3e%3ccircle%20cx='50'%20cy='50'%20r='43'%20fill='url(%23gradWhite)'%20stroke='%23111'%20stroke-width='6'/%3e%3ccircle%20cx='50'%20cy='50'%20r='33'%20fill='none'%20stroke='%23000'%20stroke-opacity='0.18'%20stroke-width='3'/%3e%3cellipse%20cx='40'%20cy='36'%20rx='18'%20ry='12'%20fill='%23fff'%20opacity='0.28'/%3e%3c/symbol%3e%3c!--%20Black%20Soldier%20--%3e%3csymbol%20id='B_S'%20viewBox='0%200%20100%20100'%3e%3ccircle%20cx='50'%20cy='50'%20r='43'%20fill='url(%23gradBlack)'%20stroke='%23f5f5f5'%20stroke-width='6'/%3e%3ccircle%20cx='50'%20cy='50'%20r='33'%20fill='none'%20stroke='%23fff'%20stroke-opacity='0.16'%20stroke-width='3'/%3e%3cellipse%20cx='40'%20cy='36'%20rx='18'%20ry='12'%20fill='%23fff'%20opacity='0.10'/%3e%3c/symbol%3e%3c!--%20Green%20Officer%20(paired%20with%20White%20Soldier)%20--%3e%3csymbol%20id='W_O'%20viewBox='0%200%20100%20100'%3e%3ccircle%20cx='50'%20cy='50'%20r='43'%20fill='url(%23gradGreen)'%20stroke='%230b2a12'%20stroke-width='6'/%3e%3ccircle%20cx='50'%20cy='50'%20r='33'%20fill='none'%20stroke='%23000'%20stroke-opacity='0.18'%20stroke-width='3'/%3e%3cuse%20href='%23star5'%20fill='%23ffffff'%20opacity='0.95'/%3e%3ccircle%20cx='50'%20cy='50'%20r='18'%20fill='none'%20stroke='%23fff'%20stroke-opacity='0.55'%20stroke-width='3'/%3e%3cellipse%20cx='40'%20cy='36'%20rx='18'%20ry='12'%20fill='%23fff'%20opacity='0.18'/%3e%3c/symbol%3e%3c!--%20Red%20Officer%20(paired%20with%20Black%20Soldier)%20--%3e%3csymbol%20id='B_O'%20viewBox='0%200%20100%20100'%3e%3ccircle%20cx='50'%20cy='50'%20r='43'%20fill='url(%23gradRed)'%20stroke='%233a0b0b'%20stroke-width='6'/%3e%3ccircle%20cx='50'%20cy='50'%20r='33'%20fill='none'%20stroke='%23000'%20stroke-opacity='0.18'%20stroke-width='3'/%3e%3cuse%20href='%23star5'%20fill='%23ffffff'%20opacity='0.95'/%3e%3ccircle%20cx='50'%20cy='50'%20r='18'%20fill='none'%20stroke='%23fff'%20stroke-opacity='0.55'%20stroke-width='3'/%3e%3cellipse%20cx='40'%20cy='36'%20rx='18'%20ry='12'%20fill='%23fff'%20opacity='0.16'/%3e%3c/symbol%3e%3c/defs%3e%3c/svg%3e",import.meta.url),boardDefs:new URL("data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201%201'%20aria-hidden='true'%3e%3cdefs%3e%3c!--%20========%20CONNECTOR%20MASK%20(prevents%20lines%20inside%20nodes)%20========%20--%3e%3cmask%20id='mask-connectors'%20maskUnits='userSpaceOnUse'%20maskContentUnits='userSpaceOnUse'%3e%3crect%20x='0'%20y='0'%20width='1000'%20height='1000'%20fill='white'/%3e%3c!--%20hole%20radius%20chosen%20so%20lines%20can%20tuck%20slightly%20under%20the%20ring%20--%3e%3c!--%20node%20r%20=%2046,%20hole%20r%20=%2042%20--%3e%3c!--%20row%200%20--%3e%3ccircle%20cx='140'%20cy='140'%20r='42'%20fill='black'/%3e%3ccircle%20cx='380'%20cy='140'%20r='42'%20fill='black'/%3e%3ccircle%20cx='620'%20cy='140'%20r='42'%20fill='black'/%3e%3ccircle%20cx='860'%20cy='140'%20r='42'%20fill='black'/%3e%3c!--%20row%201%20--%3e%3ccircle%20cx='260'%20cy='260'%20r='42'%20fill='black'/%3e%3ccircle%20cx='500'%20cy='260'%20r='42'%20fill='black'/%3e%3ccircle%20cx='740'%20cy='260'%20r='42'%20fill='black'/%3e%3c!--%20row%202%20--%3e%3ccircle%20cx='140'%20cy='380'%20r='42'%20fill='black'/%3e%3ccircle%20cx='380'%20cy='380'%20r='42'%20fill='black'/%3e%3ccircle%20cx='620'%20cy='380'%20r='42'%20fill='black'/%3e%3ccircle%20cx='860'%20cy='380'%20r='42'%20fill='black'/%3e%3c!--%20row%203%20--%3e%3ccircle%20cx='260'%20cy='500'%20r='42'%20fill='black'/%3e%3ccircle%20cx='500'%20cy='500'%20r='42'%20fill='black'/%3e%3ccircle%20cx='740'%20cy='500'%20r='42'%20fill='black'/%3e%3c!--%20row%204%20--%3e%3ccircle%20cx='140'%20cy='620'%20r='42'%20fill='black'/%3e%3ccircle%20cx='380'%20cy='620'%20r='42'%20fill='black'/%3e%3ccircle%20cx='620'%20cy='620'%20r='42'%20fill='black'/%3e%3ccircle%20cx='860'%20cy='620'%20r='42'%20fill='black'/%3e%3c!--%20row%205%20--%3e%3ccircle%20cx='260'%20cy='740'%20r='42'%20fill='black'/%3e%3ccircle%20cx='500'%20cy='740'%20r='42'%20fill='black'/%3e%3ccircle%20cx='740'%20cy='740'%20r='42'%20fill='black'/%3e%3c!--%20row%206%20--%3e%3ccircle%20cx='140'%20cy='860'%20r='42'%20fill='black'/%3e%3ccircle%20cx='380'%20cy='860'%20r='42'%20fill='black'/%3e%3ccircle%20cx='620'%20cy='860'%20r='42'%20fill='black'/%3e%3ccircle%20cx='860'%20cy='860'%20r='42'%20fill='black'/%3e%3c/mask%3e%3c/defs%3e%3c/svg%3e",import.meta.url),css:new URL("data:text/css;base64,Lyogc3JjL2Fzc2V0cy90aGVtZXMvY2xhc3NpYy90aGVtZS5jc3MgKi8KOnJvb3R7CiAgLS1wYWdlLWJnOiAjMWIxYjFiOwogIC0tcGFuZWwtYmc6IHJnYmEoMjU1LDI1NSwyNTUsMC4wNik7CiAgLS1wYW5lbC1ib3JkZXI6IHJnYmEoMjU1LDI1NSwyNTUsMC4xMCk7CiAgLS1wYW5lbC10ZXh0OiByZ2JhKDI1NSwyNTUsMjU1LDAuOTApOwogIC0tcGFuZWwtc3VidGV4dDogcmdiYSgyNTUsMjU1LDI1NSwwLjcwKTsKfQoKLyogU2xpZ2h0bHkgd2FybSBib2FyZCBjb25uZWN0b3JzL25vZGVzICovCiNsYXNjYUJvYXJkICNjb25uZWN0b3JzeyBzdHJva2U6ICMxMTE7IH0KI2xhc2NhQm9hcmQgI25vZGVzeyBzdHJva2U6ICMxMTE7IH0K",import.meta.url)},{id:"highContrast",label:"High Contrast",piecesDefs:new URL("data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201%201'%20aria-hidden='true'%3e%3cdefs%3e%3c!--%20High-contrast%20flat%20pieces:%20same%20IDs%20(%23W_S,%20%23B_S,%20%23W_O,%20%23B_O)%20--%3e%3cpath%20id='star5'%20d='%20M%2050%2025%20L%2058%2042%20L%2077%2045%20L%2063%2058%20L%2066%2077%20L%2050%2068%20L%2034%2077%20L%2037%2058%20L%2023%2045%20L%2042%2042%20Z'%20/%3e%3c!--%20White%20Soldier%20--%3e%3csymbol%20id='W_S'%20viewBox='0%200%20100%20100'%3e%3ccircle%20cx='50'%20cy='50'%20r='44'%20fill='%23ffffff'%20stroke='%23000000'%20stroke-width='8'/%3e%3ccircle%20cx='50'%20cy='50'%20r='32'%20fill='none'%20stroke='%23000000'%20stroke-width='6'%20opacity='0.18'/%3e%3cellipse%20cx='38'%20cy='34'%20rx='18'%20ry='12'%20fill='%23000'%20opacity='0.06'/%3e%3c/symbol%3e%3c!--%20Black%20Soldier%20--%3e%3csymbol%20id='B_S'%20viewBox='0%200%20100%20100'%3e%3ccircle%20cx='50'%20cy='50'%20r='44'%20fill='%23000000'%20stroke='%23ffffff'%20stroke-width='8'/%3e%3ccircle%20cx='50'%20cy='50'%20r='32'%20fill='none'%20stroke='%23ffffff'%20stroke-width='6'%20opacity='0.18'/%3e%3cellipse%20cx='38'%20cy='34'%20rx='18'%20ry='12'%20fill='%23fff'%20opacity='0.12'/%3e%3c/symbol%3e%3c!--%20Green%20Officer%20(paired%20with%20White%20Soldier)%20--%3e%3csymbol%20id='W_O'%20viewBox='0%200%20100%20100'%3e%3ccircle%20cx='50'%20cy='50'%20r='44'%20fill='%2321c75a'%20stroke='%23001a08'%20stroke-width='8'/%3e%3cuse%20href='%23star5'%20fill='%23ffffff'%20opacity='0.98'/%3e%3ccircle%20cx='50'%20cy='50'%20r='20'%20fill='none'%20stroke='%23ffffff'%20stroke-width='4'%20opacity='0.7'/%3e%3c/symbol%3e%3c!--%20Red%20Officer%20(paired%20with%20Black%20Soldier)%20--%3e%3csymbol%20id='B_O'%20viewBox='0%200%20100%20100'%3e%3ccircle%20cx='50'%20cy='50'%20r='44'%20fill='%23ff2a2a'%20stroke='%231a0000'%20stroke-width='8'/%3e%3cuse%20href='%23star5'%20fill='%23ffffff'%20opacity='0.98'/%3e%3ccircle%20cx='50'%20cy='50'%20r='20'%20fill='none'%20stroke='%23ffffff'%20stroke-width='4'%20opacity='0.7'/%3e%3c/symbol%3e%3c/defs%3e%3c/svg%3e",import.meta.url),boardDefs:new URL("data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201%201'%20aria-hidden='true'%3e%3cdefs%3e%3c!--%20========%20CONNECTOR%20MASK%20(prevents%20lines%20inside%20nodes)%20========%20--%3e%3cmask%20id='mask-connectors'%20maskUnits='userSpaceOnUse'%20maskContentUnits='userSpaceOnUse'%3e%3crect%20x='0'%20y='0'%20width='1000'%20height='1000'%20fill='white'/%3e%3c!--%20hole%20radius%20chosen%20so%20lines%20can%20tuck%20slightly%20under%20the%20ring%20--%3e%3c!--%20node%20r%20=%2046,%20hole%20r%20=%2042%20--%3e%3c!--%20row%200%20--%3e%3ccircle%20cx='140'%20cy='140'%20r='42'%20fill='black'/%3e%3ccircle%20cx='380'%20cy='140'%20r='42'%20fill='black'/%3e%3ccircle%20cx='620'%20cy='140'%20r='42'%20fill='black'/%3e%3ccircle%20cx='860'%20cy='140'%20r='42'%20fill='black'/%3e%3c!--%20row%201%20--%3e%3ccircle%20cx='260'%20cy='260'%20r='42'%20fill='black'/%3e%3ccircle%20cx='500'%20cy='260'%20r='42'%20fill='black'/%3e%3ccircle%20cx='740'%20cy='260'%20r='42'%20fill='black'/%3e%3c!--%20row%202%20--%3e%3ccircle%20cx='140'%20cy='380'%20r='42'%20fill='black'/%3e%3ccircle%20cx='380'%20cy='380'%20r='42'%20fill='black'/%3e%3ccircle%20cx='620'%20cy='380'%20r='42'%20fill='black'/%3e%3ccircle%20cx='860'%20cy='380'%20r='42'%20fill='black'/%3e%3c!--%20row%203%20--%3e%3ccircle%20cx='260'%20cy='500'%20r='42'%20fill='black'/%3e%3ccircle%20cx='500'%20cy='500'%20r='42'%20fill='black'/%3e%3ccircle%20cx='740'%20cy='500'%20r='42'%20fill='black'/%3e%3c!--%20row%204%20--%3e%3ccircle%20cx='140'%20cy='620'%20r='42'%20fill='black'/%3e%3ccircle%20cx='380'%20cy='620'%20r='42'%20fill='black'/%3e%3ccircle%20cx='620'%20cy='620'%20r='42'%20fill='black'/%3e%3ccircle%20cx='860'%20cy='620'%20r='42'%20fill='black'/%3e%3c!--%20row%205%20--%3e%3ccircle%20cx='260'%20cy='740'%20r='42'%20fill='black'/%3e%3ccircle%20cx='500'%20cy='740'%20r='42'%20fill='black'/%3e%3ccircle%20cx='740'%20cy='740'%20r='42'%20fill='black'/%3e%3c!--%20row%206%20--%3e%3ccircle%20cx='140'%20cy='860'%20r='42'%20fill='black'/%3e%3ccircle%20cx='380'%20cy='860'%20r='42'%20fill='black'/%3e%3ccircle%20cx='620'%20cy='860'%20r='42'%20fill='black'/%3e%3ccircle%20cx='860'%20cy='860'%20r='42'%20fill='black'/%3e%3c/mask%3e%3c/defs%3e%3c/svg%3e",import.meta.url),css:new URL("data:text/css;base64,Lyogc3JjL2Fzc2V0cy90aGVtZXMvaGlnaENvbnRyYXN0L3RoZW1lLmNzcyAqLwo6cm9vdHsKICAtLXBhZ2UtYmc6ICMwYjBiMGI7CiAgLS1wYW5lbC1iZzogcmdiYSgyNTUsMjU1LDI1NSwwLjA4KTsKICAtLXBhbmVsLWJvcmRlcjogcmdiYSgyNTUsMjU1LDI1NSwwLjE0KTsKICAtLXBhbmVsLXRleHQ6IHJnYmEoMjU1LDI1NSwyNTUsMC45NCk7CiAgLS1wYW5lbC1zdWJ0ZXh0OiByZ2JhKDI1NSwyNTUsMjU1LDAuNzgpOwp9CgovKiBNYWtlIGJvYXJkIGxpbmVzL3JpbmdzIG1vcmUgdmlzaWJsZSAqLwojbGFzY2FCb2FyZCAjY29ubmVjdG9yc3sgc3Ryb2tlOiByZ2JhKDI1NSwyNTUsMjU1LDAuODIpOyB9CiNsYXNjYUJvYXJkICNub2Rlc3sgc3Ryb2tlOiByZ2JhKDI1NSwyNTUsMjU1LDAuODIpOyB9CgovKiBCb29zdCBzcGluZSBidWJibGUgY29udHJhc3QgKi8KI2xhc2NhQm9hcmQgdGV4dHsgcGFpbnQtb3JkZXI6IHN0cm9rZTsgc3Ryb2tlOiByZ2JhKDAsMCwwLDAuNTUpOyBzdHJva2Utd2lkdGg6IDJweDsgfQo=",import.meta.url)}];function V(e){return te.find(c=>c.id===e)??null}function Le(e){const{rootEl:c,items:t,initialId:o,onSelect:r}=e??{};if(!c)throw new Error("createThemeDropdown: rootEl is required");if(!Array.isArray(t)||t.length===0)throw new Error("createThemeDropdown: items is required");const n=c.querySelector("#themeDropdownBtn"),l=c.querySelector("#themeDropdownMenu");if(!n||!l)throw new Error("createThemeDropdown: missing #themeDropdownBtn / #themeDropdownMenu");let b=!1,f=o??t[0].id;function s(a){b=a,n.setAttribute("aria-expanded",b?"true":"false"),b?(l.hidden=!1,l.focus({preventScroll:!0})):l.hidden=!0}function i(){const a=t.find(u=>u.id===f)??t[0];n.textContent=a?`${a.label} ▾`:"Theme ▾"}function d(){l.textContent="";for(const a of t){const u=document.createElement("button");u.type="button",u.className="themeOption",u.setAttribute("role","option"),u.setAttribute("data-id",a.id),u.setAttribute("aria-selected",a.id===f?"true":"false"),u.textContent=a.label,u.addEventListener("click",async()=>{await p(a.id),s(!1),n.focus({preventScroll:!0})}),l.appendChild(u)}}async function p(a){f=a,i(),d(),typeof r=="function"&&await r(a)}function y(a){if(!b)return;const u=a.target;u instanceof Node&&(c.contains(u)||s(!1))}function T(){s(!b)}function h(a){b&&a.key==="Escape"&&(a.preventDefault(),s(!1),n.focus({preventScroll:!0}))}return n.addEventListener("click",T),document.addEventListener("pointerdown",y),l.addEventListener("keydown",h),n.setAttribute("aria-haspopup","listbox"),l.setAttribute("role","listbox"),l.tabIndex=-1,i(),d(),s(!1),{setSelected:async a=>p(a),getSelected:()=>f,open:()=>s(!0),close:()=>s(!1),destroy:()=>{n.removeEventListener("click",T),document.removeEventListener("pointerdown",y),l.removeEventListener("keydown",h)}}}const ue="lasca.theme",ae="lascaThemeCss";function ve(e){const c="http://www.w3.org/2000/svg";let t=e.querySelector("defs");t||(t=document.createElementNS(c,"defs"),t.setAttribute("id","lascaDefs"),e.insertBefore(t,e.firstChild));let o=e.querySelector("#lascaThemeDefs");o||(o=document.createElementNS(c,"g"),o.setAttribute("id","lascaThemeDefs"),t.appendChild(o));let r=e.querySelector("#lascaRuntimeDefs");return r||(r=document.createElementNS(c,"g"),r.setAttribute("id","lascaRuntimeDefs"),t.appendChild(r)),{defs:t,themeDefs:o,runtimeDefs:r}}function Ce(){let e=document.getElementById(ae);return e&&e.tagName.toLowerCase()!=="link"&&(e.remove(),e=null),e||(e=document.createElement("link"),e.id=ae,e.rel="stylesheet",document.head.appendChild(e)),e}function de(){const e=localStorage.getItem(ue);return e||null}function Ee(e){localStorage.setItem(ue,e)}function Ie(e){if(!e)throw new Error("createThemeManager: svgRoot is required");const{themeDefs:c}=ve(e);let t=null,o=null;async function r(f){if(!f)return;const s=String(f);if(s===o)return;const i=Ce();await new Promise(d=>{const p=()=>{i.removeEventListener("load",p),i.removeEventListener("error",p),d()};i.addEventListener("load",p),i.addEventListener("error",p),i.href=s}),o=s}async function n(f){const s=V(f)??V(ee);if(!s)throw new Error("No themes available.");if(t===s.id)return s;const i=e.style.visibility;return e.style.visibility="hidden",c.replaceChildren(),await Ae(c,[s.piecesDefs,s.boardDefs]),await r(s.css),t=s.id,Ee(t),e.style.visibility=i||"visible",s}async function l(f){if(!f)return;const s=te.map(y=>({id:y.id,label:y.label})),i=de(),d=i&&V(i)?i:ee;await n(d),await Le({rootEl:f,items:s,initialId:d,onSelect:async y=>{await n(y)}}).setSelected(d)}async function b(f){if(!f)return;f.textContent="";for(const d of te){const p=document.createElement("option");p.value=d.id,p.textContent=d.label,f.appendChild(p)}const s=de(),i=s&&V(s)?s:ee;f.value=i,await n(i),f.addEventListener("change",async()=>{await n(f.value)})}return{setTheme:n,bindThemeDropdown:l,bindThemeSelect:b,getCurrentThemeId:()=>t}}window.addEventListener("DOMContentLoaded",async()=>{const e=document.getElementById("boardWrap");if(!e)throw new Error("Missing board container: #boardWrap");const c=new URL(""+new URL("lasca_board-C7LnMF4x.svg",import.meta.url).href,import.meta.url),t=await Se(e,c),o=document.getElementById("zoomTitle"),r=document.getElementById("zoomHint"),n=document.getElementById("zoomBody");if(!n)throw new Error("Missing inspector container: #zoomBody");const l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.id="zoomSvg",l.setAttribute("xmlns","http://www.w3.org/2000/svg"),l.setAttribute("viewBox","0 0 120 200"),l.setAttribute("role","img"),l.setAttribute("aria-label","Stack column"),n.replaceChildren(l),xe();const b=document.getElementById("themeDropdown");await Ie(t).bindThemeDropdown(b);const s=t.querySelector("#pieces");if(!s)throw new Error("Missing SVG group inside board: #pieces");if(!o||!r)throw new Error("Missing inspector DOM nodes (zoomTitle/zoomHint)");const i=ge(o,r,l);s.textContent="";for(const d of me)Q(t,s,i,d,[{owner:"B",rank:"S"}]);for(const d of pe)Q(t,s,i,d,[{owner:"W",rank:"S"}]);Q(t,s,i,he,be)});

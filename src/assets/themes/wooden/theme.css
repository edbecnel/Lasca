/* Wooden Theme Styles */

/* Wood grain background for the page - glossy, low-contrast grain */
body {
  /* Palette choice: dark walnut/espresso. This frames the board without pulling focus. */
  background-color: #22170f;
  background-image:
    /* Gloss highlight */
    radial-gradient(1200px 700px at 18% 10%, rgba(255, 244, 230, 0.16) 0%, rgba(255, 244, 230, 0.08) 28%, rgba(255, 244, 230, 0.0) 60%),
    /* Soft vignette */
    radial-gradient(1000px 800px at 70% 80%, rgba(0, 0, 0, 0.35) 0%, rgba(0, 0, 0, 0.0) 62%),
    /* Base wood tone gradient */
    linear-gradient(135deg, #3a2b1c 0%, #2a1f15 45%, #1a120d 100%),
    /* Grain texture (kept subtle via blend + opacity) */
    url("./wood_grain.svg");
  background-repeat: no-repeat, no-repeat, no-repeat, repeat;
  background-size: cover, cover, cover, 512px 512px;
  background-position: center, center, center, center;
  background-attachment: fixed, fixed, fixed, fixed;

  /* Make grain visible but not busy; keep UI readable. */
  background-blend-mode: screen, multiply, normal, overlay;
}

/* Wood texture overlay - darker panels */
.sidebar {
  background: 
    linear-gradient(to bottom, rgba(61, 47, 31, 0.15), rgba(42, 31, 21, 0.25)),
    repeating-linear-gradient(
      90deg,
      rgba(61, 47, 31, 0.06) 0px,
      transparent 2px,
      transparent 4px,
      rgba(61, 47, 31, 0.06) 6px
    ),
    var(--panel-bg);
}

/* Wooden board squares with alternating wood tones */
#lascaBoard #bgFill rect {
  fill: url(#wooden-bg-fill) !important;
}

#lascaBoard .board-square-light {
  fill: #d4b896;
  filter: 
    drop-shadow(0 2px 4px rgba(0,0,0,0.2));
}

#lascaBoard .board-square-dark {
  fill: #8b6f47;
  filter: 
    drop-shadow(0 2px 4px rgba(0,0,0,0.2));
}

/* Add subtle wood grain to board squares */
#lascaBoard .board-square-light,
#lascaBoard .board-square-dark {
  stroke: rgba(91, 69, 52, 0.4);
  stroke-width: 1;
}

/* Node circles with wood finish */
#lascaBoard circle[id^="r"] {
  filter: drop-shadow(0 3px 5px rgba(0,0,0,0.3));
}

/* Connector lines with darker wood tone */
#lascaBoard .connector {
  stroke: #5a4534;
  stroke-width: 3;
  opacity: 0.6;
}

/* Panel styling with darker wood accents */
.panelSection {
  background: rgba(42, 31, 21, 0.5);
  border-color: rgba(61, 47, 31, 0.5);
}

.panelBtn {
  background: rgba(42, 31, 21, 0.6);
  border-color: rgba(61, 47, 31, 0.6);
  color: #f5e6d3;
}

.panelBtn:hover {
  background: rgba(61, 47, 31, 0.7);
  border-color: rgba(91, 69, 52, 0.8);
}

/* Theme dropdown with darker wood styling */
.themeDropdownBtn {
  background: rgba(42, 31, 21, 0.6);
  border-color: rgba(61, 47, 31, 0.6);
  color: #f5e6d3;
}

.themeDropdownMenu {
  background: rgba(26, 18, 13, 0.95);
  border-color: rgba(61, 47, 31, 0.7);
}

.themeOption {
  color: #f5e6d3;
}

.themeOption:hover {
  background: rgba(42, 31, 21, 0.6);
}

.themeOption[aria-selected="true"] {
  background: rgba(61, 47, 31, 0.7);
}

/* Overlay rings with wood accent colors */
:root {
  --halo-selection: #d4a574;
  --halo-target: #c97c54;

  --lastMoveFromFill: rgba(102, 204, 255, 0.22);
  --lastMoveToFill: rgba(102, 204, 255, 0.36);
  --lastMoveStroke: rgba(102, 204, 255, 0.72);
  --lastMoveStrokeWidth: 3;
}

.selection-ring {
  stroke: #d4a574 !important;
}

.target-ring {
  stroke: #c97c54 !important;
}

/* Warm text colors for wooden theme */
h3, .sidebarTitle {
  color: #f5e6d3;
}

.kv, .kv .k {
  color: rgba(245, 230, 211, 0.8);
}
